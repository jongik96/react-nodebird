_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{RNiq:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return v}));var a=n("q1tI"),c=n.n(a),i=n("/MKj"),o=n("1zst"),r=n("ODXe"),l=n("Vl3Y"),u=n("5rEg"),s=n("2/Rp"),f=(n("OcYQ"),n("3zrx")),d=n("p+NB"),p=c.a.createElement,m=function(){var e=Object(i.c)((function(e){return e.post})),t=e.imagePaths,n=e.addPostDone,c=Object(i.b)(),o=Object(f.a)(""),m=Object(r.a)(o,3),b=m[0],g=m[1],v=m[2];Object(a.useEffect)((function(){n&&v("")}),[n]);var w=Object(a.useCallback)((function(){if(!b||!b.trim())return alert("\uac8c\uc2dc\uae00\uc744 \uc791\uc131\ud558\uc138\uc694.");var e=new FormData;t.forEach((function(t){e.append("image",t)})),e.append("content",b),c({type:d.e,data:e})}),[b,t]),h=Object(a.useRef)(),E=Object(a.useCallback)((function(){h.current.click()}),[h.current]),O=Object(a.useCallback)((function(e){console.log("images",e.target.files);var t=new FormData;[].forEach.call(e.target.files,(function(e){t.append("image",e)})),c({type:d.J,data:t})})),j=Object(a.useCallback)((function(e){return function(){c({type:d.v,data:e})}}));return p(l.a,{style:{margin:"10px 0 20px"},encType:"multipart/form-data",onFinish:w},p(u.a.TextArea,{value:b,onChange:g,maxLength:140,placeholder:"\ubb34\uc2a8\uc77c"}),p("div",null,p("input",{type:"file",name:"image",multiple:!0,hidden:!0,ref:h,onChange:O}),p(s.a,{onClick:E},"\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc"),p(s.a,{type:"primary",style:{float:"right"},htmlType:"submit"},"\uac8c\uc2dc\uae00 \uc791\uc131")),p("div",null,t.map((function(e,t){return p("div",{key:e,style:{display:"inline-block"}},p("img",{src:e,style:{width:"200px"},alt:e}),p("div",null,p(s.a,{onClick:j(t)},"\uc81c\uac70")))}))))},b=n("kduo"),g=c.a.createElement,v=!0;t.default=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.user})).me,n=Object(i.c)((function(e){return e.post})),c=n.mainPosts,r=n.hasMorePosts,l=n.loadPostsLoading,u=n.retweetError;return console.log(c),Object(a.useEffect)((function(){u&&alert(u)}),[u]),Object(a.useEffect)((function(){function t(){if(window.pageYOffset+document.documentElement.clientHeight>document.documentElement.scrollHeight-300&&r&&!l){var t,n=null===(t=c[c.length-1])||void 0===t?void 0:t.id;e({type:d.n,lastId:n})}}return window.addEventListener("scroll",t),function(){window.removeEventListener("scroll",t)}}),[r,l,c]),g(o.a,null,t&&g(m,null),c.map((function(e){return g(b.a,{key:e.id,post:e})})))}},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("RNiq")}])}},[["vlRD",1,2,6,0,3,4,5,7]]]);